(()=>{var Z=(o,r)=>()=>(o&&(r=o(o=0)),r);var Te=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports);function n(o,r){r?.classList.contains(o)||r?.classList.add(o)}function c(o,r){r?.classList.contains(o)&&r?.classList.remove(o)}function _(o){return o&&String(o[0]).toUpperCase()+String(o).slice(1)}var ee=Z(()=>{});function te(){return`
		<div class='search'>


			<!-- Field
			================================================== -->
			<div class='field'>
				<!-- Search field
				================================================== -->
				<div class='searchField'>
					<div class='icon'>search</div>
					<input type='text' placeholder='Search our funds'>
					<button class='searchButton'>
						<div class='icon'>search</div>
					</button> <!-- .searchButton -->
				</div> <!-- .searchField -->

				<!-- Suggestions
				================================================== -->
				<div class='suggestions hidden'>
					<!-- This is populated dynamically with JS -->
				</div> <!-- .suggestions -->
			</div> <!-- .field -->


			<!-- Filters
			================================================== -->
			<button class='filtersButton hidden'>
				<div class='icon'>tune</div>
				<div class='text'>Filter results<span class='activeFilters'></span></div>
			</button> <!-- .filtersButton -->

			<div class='filtersPopup hidden'>
				<div class='top'>
					<div class='title'>Filter results</div>
					<button class='closeButton'>
						<div class='icon'>close</div>
					</button> <!-- .closeButton -->
				</div> <!-- .top -->

				<form>
					<div class='filter'>
						<div class='label'>Fund size</div>
						<div class='fields'>
							<input type='number' placeholder='Min' name='fundSize_min' data-min='0'>
							<input type='number' placeholder='Max' name='fundSize_max' data-min='0'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Management fee (%)</div>
						<div class='fields'>
							<input type='number' placeholder='Min' step='0.01' name='managementFee_min' data-min='0' data-max='100'>
							<input type='number' placeholder='Max' step='0.01' name='managementFee_max' data-min='0' data-max='100'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>1 year return (%)</div>
						<div class='fields'>
							<input type='number' placeholder='Min' name='oneYearReturn_min'>
							<input type='number' placeholder='Max' name='oneYearReturn_max'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Five year return (%)</div>
						<div class='fields'>
							<input type='number' placeholder='Min' name='fiveYearReturn_min'>
							<input type='number' placeholder='Max' name='fiveYearReturn_max'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Fund category</div>
						<div class='fields'>
							<div class='selectContainer'>
								<select name='fundCategory'>
									<option value='' selected>All categories</option>
									<option>Australian Equities</option>
									<option>Cash</option>
									<option>Australian Bonds</option>
									<option>Technology</option>
									<option>Thematic</option>
									<option>Shorts Funds & Geared Funds</option>
									<option>International Bonds</option>
									<option>International Equities</option>
									<option>Diversified</option>
									<option>International Equities - Emerging Markets</option>
									<option>International - Countries & Regions</option>
									<option>International Equities - Asia</option>
									<option>Gold & Commodities</option>
									<option>International Equities - US</option>
									<option>Currency</option>
									<option>Property & Infrastructure</option>
								</select>
								<div class='icon'>keyboard_arrow_down</div>
							</div> <!-- .selectContainer -->
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Investment suitability</div>
						<div class='fields'>
							<input type='text' placeholder='Enter keywords' name='investmentSuitability'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Management approach</div>
						<div class='fields'>
							<input type='text' placeholder='Enter keywords' name='managementApproach'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Dividend frequency</div>
						<div class='fields'>
							<div class='selectContainer'>
								<select name='dividendFrequency'>
									<option value='' selected>All frequencies</option>
									<option value='annual'>Annual</option>
									<option value='quarterly'>Quarterly</option>
									<option value='monthly'>Monthly</option>
								</select>

								<div class='icon'>keyboard_arrow_down</div>
							</div> <!-- .selectContainer -->
						</div> <!-- .fields -->
					</div> <!-- .filter -->
				</form>

				<button class='clearFiltersButton'>
					<div class='text'>Clear all filters</div>
				</button>
			</div> <!-- .filters -->


			<!-- Results
			================================================== -->
			<div class='results hidden'>
				<!-- Results table
				========================= -->
				<table class='resultsTable hidden'>
					<thead>
						<tr>
							<th></th>
							<th data-sort='symbol'>
								<div class='headerContainer'>
									<div class='text'>Code</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th data-sort='display_name'>
								<div class='headerContainer'>
									<div class='text'>Fund name</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_l' data-sort='kind'>
								<div class='headerContainer'>
									<div class='text'>Type</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_l' data-sort='fund_size'>
								<div class='headerContainer'>
									<div class='text'>Fund size</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_s' data-sort='one_year_return'>
								<div class='headerContainer'>
									<div class='text'>1 year<span class='hide_m'> return</span></div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_s' data-sort='five_year_return'>
								<div class='headerContainer'>
									<div class='text'>5 year<span class='hide_m'> return</span></div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_s' data-sort='management_fee'>
								<div class='headerContainer'>
									<div class='text'>Cost p/a</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
						</tr>
					</thead>
					<tbody>
						<!-- This is populated dynamically with JS -->
					</tbody>
				</table> <!-- .resultsTable -->


				<!-- Skeleton loading
				========================= -->
				<table class='skeletonLoading hidden'>
					<thead>
						<tr>
							<th><div class='box'></div></th>
							<th><div class='box'></div></th>
							<th colspan='6'><div class='box'></div></td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><div class='box'></div></td>
							<td><div class='box'></div></td>
							<td colspan='6'><div class='box'></div></td>
						</tr>
						<tr>
							<td><div class='box'></div></td>
							<td><div class='box'></div></td>
							<td colspan='6'><div class='box'></div></td>
						</tr>
						<tr>
							<td><div class='box'></div></td>
							<td><div class='box'></div></td>
							<td colspan='6'><div class='box'></div></td>
						</tr>
					</tbody>
				</table> <!-- .skeletonLoading -->


				<!-- Pagination
				========================= -->
				<div class='pagination hidden'>
					<div class='buttons'>
						<button class='prev disabled'>
							<div class='icon'>keyboard_arrow_left</div>
						</button> <!-- .prev -->

						<div class='pages'>
							<button class='page selected'>
								<div class='text'>1</div>
							</button>
							<button class='page'>
								<div class='text'>2</div>
							</button>
							<button class='page'>
								<div class='text'>3</div>
							</button>
							<button class='page'>
								<div class='text'>4</div>
							</button>
							<button class='page'>
								<div class='text'>5</div>
							</button>
							<button class='page'>
								<div class='text'>6</div>
							</button>
							<button class='page'>
								<div class='text'>7</div>
							</button>
							<button class='page ellipsis'>
								<div class='text'>...</div>
							</button>
							<button class='page'>
								<div class='text'>10</div>
							</button>
						</div> <!-- .pages -->

						<button class='next'>
							<div class='icon'>keyboard_arrow_right</div>
						</button> <!-- .next -->
					</div> <!-- .buttons -->

					<div class='resultsText'>
						Showing results 1 - 10 of 100
					</div> <!-- .resultsText -->
				</div> <!-- .pagination -->


				<!-- No results
				========================= -->
				<div class='noResults hidden'>
					<div class='title'>Sorry, we could not find any results.</div>
					<div class='text'>Try searching for something else<span class='clearFilters hidden'>, <a href='javascript:;'>clear all filters</a></span> or <a href='https://www.betashares.com.au/fund/'>view all funds</a>.</div>
				</div> <!-- .noResults -->
			</div> <!-- .results -->


		</div> <!-- .search -->
	`}function ie(){let o,r;function B(){clearTimeout(r),o&&o.abort("aborted"),o=new AbortController}function R(e,t){typeof e=="object"&&(B(),r=setTimeout(()=>{fetch("https://search.betashares.services/search",{signal:o.signal,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(i=>i.json()).then(i=>{typeof t=="function"&&t(i),typeof e.search_text<"u"&&e.search_text===""&&(F=i)}).catch(i=>{i!=="aborted"&&console.log("Error querying the search API",i)})},250))}function ne(){u?.addEventListener("blur",oe),u?.addEventListener("focus",M),u?.addEventListener("click",M),u?.addEventListener("input",M),u?.addEventListener("keydown",ae),Se?.addEventListener("click",g)}function M(e){n("focus",E);let t=u?.value;t===""&&F?(B(),D(F)):R({search_text:t||"",size:8},i=>{D(i)})}function ae(e){e.key==="Escape"&&x(),e.key==="Enter"?g():e.key==="ArrowDown"?ue():e.key==="ArrowUp"&&ve()}function oe(e){c("focus",E),window.requestAnimationFrame(()=>{document.activeElement.closest(".search .suggestions")||x()})}let F;function de(){R({search_text:"",size:8},e=>{F=e})}function D(e){let t="";typeof e=="object"&&typeof e.results=="object"&&e.results.length>0&&(e.results.forEach(a=>{typeof a.display_name=="string"&&(t+=`
						<button class='suggestion'>
							<div class='icon'>search</div>
							<div class='text'>${a.display_name}</div>
						</button> <!-- .suggestion -->
					`)}),l.innerHTML=t,(l?.querySelectorAll(".suggestion")).forEach(a=>{a.addEventListener("blur",le),a.addEventListener("click",re),a.addEventListener("keydown",ce)})),t&&document.activeElement.closest(".search .field")?c("hidden",l):n("hidden",l)}function x(){n("hidden",l)}function le(e){window.requestAnimationFrame(()=>{!document.activeElement.closest(".search .suggestions")&&!document.activeElement.closest(".search .field")&&x()})}function re(e){let t=e.target.closest(".search .suggestion")?.querySelector(".text");t&&(u.value=t?.innerText,g())}function ce(e){e.key==="Escape"&&x()}function ue(){l?.querySelectorAll(".suggestion").length&&c("hidden",l);let e=l?.querySelector(".suggestion.focused");if(e){let i=e.nextElementSibling;if(c("focused",e),i)n("focused",i);else{let a=l?.querySelectorAll(".suggestion");a.length&&n("focused",a[0])}}else{let i=l?.querySelectorAll(".suggestion");i.length&&n("focused",i[0])}let t=l?.querySelector(".suggestion.focused .text");t&&(u.value=t?.innerText,event.preventDefault(),event.stopPropagation())}function ve(){l?.querySelectorAll(".suggestion").length&&c("hidden",l);let e=l?.querySelector(".suggestion.focused");if(e){let i=e.previousElementSibling;if(c("focused",e),i)n("focused",i);else{let a=l?.querySelectorAll(".suggestion");a.length&&n("focused",a[a.length-1])}}else{let i=l?.querySelectorAll(".suggestion");i.length&&n("focused",i[i.length-1])}let t=l?.querySelector(".suggestion.focused .text");t&&(u.value=t?.innerText,event.preventDefault(),event.stopPropagation())}function fe(){L?.addEventListener("click",pe),qe?.addEventListener("click",he),Ce?.addEventListener("click",j),Y?.addEventListener("click",j),d.querySelectorAll("input, select").forEach(a=>{a.addEventListener("input",()=>{window.requestAnimationFrame(()=>{$(),g(!0)})})}),d.querySelectorAll("input[data-min]").forEach(a=>{a.addEventListener("input",y=>{let f=y.target,b=parseFloat(f.value),h=parseFloat(f.getAttribute("data-min"));b<h&&(f.value=h)})}),d.querySelectorAll("input[data-max]").forEach(a=>{a.addEventListener("input",y=>{let f=y.target,b=parseFloat(f.value),h=parseFloat(f.getAttribute("data-max"));b>h&&(f.value=h)})})}function $(){let e=0,t=L?.querySelector(".activeFilters");if(!t)return;d.querySelectorAll("input, select").forEach(a=>{a.value!==""&&e++}),e>0?(t.innerHTML=" ("+e+")",c("hidden",Y)):(t.innerHTML="",n("hidden",Y))}function pe(e){p?.classList.toggle("hidden")}function he(e){n("hidden",p)}function j(e){d.reset(),n("hidden",p),$(),g(!0)}function me(){(m?.querySelectorAll("thead th")).forEach(t=>{t.addEventListener("click",ye)})}function _e(){let e=u?.value,t=d?.querySelector('input[name="fundSize_min"]').value,i=d?.querySelector('input[name="fundSize_max"]').value,a=d?.querySelector('input[name="managementFee_min"]').value,y=d?.querySelector('input[name="managementFee_max"]').value,f=d?.querySelector('input[name="oneYearReturn_min"]').value,b=d?.querySelector('input[name="oneYearReturn_max"]').value,h=d?.querySelector('input[name="fiveYearReturn_min"]').value,P=d?.querySelector('input[name="fiveYearReturn_max"]').value,H=d?.querySelector('select[name="fundCategory"]').value,O=d?.querySelector('input[name="investmentSuitability"]').value,U=d?.querySelector('input[name="managementApproach"]').value,J=d?.querySelector('select[name="dividendFrequency"]').value,N="";S&&q&&(N=S+"."+q),R({order_by:N,search_text:e||"",fund_size:{min:t||null,max:i||null},management_fee:{min:a||null,max:y||null},one_year_return:{min:f||null,max:b||null},five_year_return:{min:h||null,max:P||null},categories:H?[H]:[],investment_suitability:O?[O]:[],management_approach:U?[U]:[],dividend_frequency:J?[J]:[]},A=>{if(typeof A!="object"||typeof A.results!="object"||A.results.length===0)n("hidden",z),n("hidden",v),n("hidden",I),c("hidden",k);else{let G="";A.results.forEach(s=>{let w=s.symbol?s.symbol.toUpperCase():"-",we=s.display_name?_(s.display_name):"-",T=s.kind?_(s.kind):"-";T==="Etf"&&(T="ETF");let V=s.fund_size?parseInt(s.fund_size):"-",Q=s.one_year_return?parseFloat(s.one_year_return).toFixed(2)+"%":"-",W=s.five_year_return?parseFloat(s.five_year_return).toFixed(2)+"%":"-",X=s.management_fee?parseFloat(s.management_fee).toFixed(2)+"%":"-",Fe=s.flagship_description_short?"<div class='description'>"+_(s.flagship_description_short)+"</div>":"",Ee=s.categories.length?s.categories.join(", "):"-",Le=s.investment_suitability?_(s.investment_suitability):"-",ke=s.management_approach?_(s.management_approach):"-",Ae=s.dividend_frequency?_(s.dividend_frequency):"-";G+=`
							<tr class='result'>
								<td>
									<button class='expandCollapseButton'>
										<div class='icon'>keyboard_arrow_down</div>
									</button> <!-- .expandCollapseButton -->
								</td>
								<td>
									<div class='fundCode'>
										<div class='text'>${w}</div>
									</div> <!-- .fundCode -->
								</td>
								<td>
									<div class='text fundName'>${we}</div>
								</td>
								<td class='hide_l'>
									<div class='text'>${T}</div>
								</td>
								<td class='hide_l'>
									<div class='text'>${V}</div>
								</td>
								<td class='hide_s'>
									<div class='text'>${Q}</div>
								</td>
								<td class='hide_s'>
									<div class='text'>${W}</div>
								</td>
								<td class='hide_s'>
									<div class='text'>${X}</div>
								</td>
							</tr>

							<tr class='expandCollapseContent hidden'>
								<td colspan='8'>
									${Fe}

									<div class='infoContainer'>
										<div class='info hidden show_l'>
											<div class='title'>Type</div>
											<div class='text'>${T}</div>
										</div> <!-- .info -->

										<div class='info hidden show_l'>
											<div class='title'>Fund size</div>
											<div class='text'>${V}</div>
										</div> <!-- .info -->

										<div class='info hidden show_s'>
											<div class='title'>1 year return</div>
											<div class='text'>${Q}</div>
										</div> <!-- .info -->

										<div class='info hidden show_s'>
											<div class='title'>5 year return</div>
											<div class='text'>${W}</div>
										</div> <!-- .info -->

										<div class='info hidden show_s'>
											<div class='title'>Cost p/a</div>
											<div class='text'>${X}</div>
										</div> <!-- .info -->

										<div class='info'>
											<div class='title'>Categories</div>
											<div class='text'>${Ee}</div>
										</div> <!-- .info -->

										<div class='info'>
											<div class='title'>Investment suitability</div>
											<div class='text'>${Le}</div>
										</div> <!-- .info -->

										<div class='info'>
											<div class='title'>Management approach</div>
											<div class='text'>${ke}</div>
										</div> <!-- .info -->

										<div class='info'>
											<div class='title'>Dividend frequency</div>
											<div class='text'>${Ae}</div>
										</div> <!-- .info -->
									</div> <!-- .infoContainer -->

									<a href='https://www.betashares.com.au/direct/get/?symbol=${w}' class='investButton'>
										<div class='text'>Invest with us</div>
									</a>
								</td>
							</tr> <!-- .expandCollapseContent -->
						`});let K=v?.querySelector("tbody");K&&(K.innerHTML=G),n("hidden",z),n("hidden",k),c("hidden",v),c("hidden",I),(v?.querySelectorAll(".result")).forEach(s=>{s.addEventListener("click",be);let w=s.querySelector(".expandCollapseButton");w&&w.addEventListener("click",xe)})}})}function g(e=!1){if(x(),u?.blur(),!u?.value){ge();return}c("hidden",L),e||(S="",q="",d.reset(),$(),n("hidden",p)),n("hidden",v),n("hidden",I),n("hidden",k),c("hidden",z),c("hidden",m),_e()}function ge(){B(),n("hidden",m),n("hidden",L),n("hidden",p)}let S="",q="";function ye(e){let t=e.target.closest("th");t&&(t.classList.contains("desc")?(t.classList.remove("desc"),t.classList.add("asc"),S=t.getAttribute("data-sort"),q="asc"):(v?.querySelector(".sort")?.classList.remove("sort"),v?.querySelector(".asc")?.classList.remove("asc"),v?.querySelector(".desc")?.classList.remove("desc"),t.classList.add("sort"),t.classList.add("desc"),S=t.getAttribute("data-sort"),q="desc"),g(!0))}function be(e){let t=e.target.closest(".result")?.querySelector(".fundCode .text")?.textContent;t&&(window.location.href="https://www.betashares.com.au/direct/get/?symbol="+t)}function xe(e){e.preventDefault(),e.stopPropagation();let t=e.target.closest(".result");if(t){t.classList.contains("expanded")?t.classList.remove("expanded"):(c("expanded",v.querySelector(".result.expanded")),t.classList.add("expanded"));let i=t.nextElementSibling;i&&(i.classList.contains("hidden")?(v.querySelector(".expandCollapseContent:not(.hidden)")?.classList.add("hidden"),i.classList.remove("hidden")):i.classList.add("hidden"))}}let C=document.querySelector(".search"),E=C?.querySelector(".field .searchField"),u=E?.querySelector("input"),Se=E?.querySelector(".searchButton"),l=C?.querySelector(".suggestions"),L=C?.querySelector(".filtersButton"),p=C?.querySelector(".filtersPopup"),qe=p?.querySelector(".closeButton"),d=p?.querySelector("form"),Ce=p?.querySelector(".clearFiltersButton"),m=C?.querySelector(".results"),v=m?.querySelector(".resultsTable"),z=m?.querySelector(".skeletonLoading"),I=m?.querySelector(".pagination"),k=m?.querySelector(".noResults"),Y=k?.querySelector(".clearFilters");ne(),de(),fe(),me()}var se=Z(()=>{ee()});var Be=Te(()=>{se();document.addEventListener("DOMContentLoaded",()=>{let o=document.getElementById("component_search");o&&(o.innerHTML=te(),ie())})});Be();})();
