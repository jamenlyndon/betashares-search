(()=>{var ee=(o,r)=>()=>(o&&(r=o(o=0)),r);var Be=(o,r)=>()=>(r||o((r={exports:{}}).exports,r),r.exports);function n(o,r){r?.classList.contains(o)||r?.classList.add(o)}function c(o,r){r?.classList.contains(o)&&r?.classList.remove(o)}function y(o){return o&&String(o[0]).toUpperCase()+String(o).slice(1)}var te=ee(()=>{});function se(){return`
		<div class='search'>


			<!-- Field
			================================================== -->
			<div class='field'>
				<!-- Search field
				================================================== -->
				<div class='searchField'>
					<div class='icon'>search</div>
					<input type='text' placeholder='Search our funds'>
					<button class='searchButton'>
						<div class='icon'>search</div>
					</button> <!-- .searchButton -->
				</div> <!-- .searchField -->

				<!-- Suggestions
				================================================== -->
				<div class='suggestions hidden'>
					<!-- This is populated dynamically with JS -->
				</div> <!-- .suggestions -->
			</div> <!-- .field -->


			<!-- Filters
			================================================== -->
			<button class='filtersButton hidden'>
				<div class='icon'>tune</div>
				<div class='text'>Filter results<span class='activeFilters'></span></div>
			</button> <!-- .filtersButton -->

			<div class='filtersPopup hidden'>
				<div class='top'>
					<div class='title'>Filter results</div>
					<button class='closeButton'>
						<div class='icon'>close</div>
					</button> <!-- .closeButton -->
				</div> <!-- .top -->

				<form>
					<div class='filter'>
						<div class='label'>Fund size</div>
						<div class='fields'>
							<input type='number' placeholder='Min' name='fundSize_min' data-min='0'>
							<input type='number' placeholder='Max' name='fundSize_max' data-min='0'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Management fee (%)</div>
						<div class='fields'>
							<input type='number' placeholder='Min' step='0.01' name='managementFee_min' data-min='0' data-max='100'>
							<input type='number' placeholder='Max' step='0.01' name='managementFee_max' data-min='0' data-max='100'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>1 year return (%)</div>
						<div class='fields'>
							<input type='number' placeholder='Min' name='oneYearReturn_min'>
							<input type='number' placeholder='Max' name='oneYearReturn_max'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Five year return (%)</div>
						<div class='fields'>
							<input type='number' placeholder='Min' name='fiveYearReturn_min'>
							<input type='number' placeholder='Max' name='fiveYearReturn_max'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Fund category</div>
						<div class='fields'>
							<div class='selectContainer'>
								<select name='fundCategory'>
									<option value='' selected>All categories</option>
									<option>Australian Equities</option>
									<option>Cash</option>
									<option>Australian Bonds</option>
									<option>Technology</option>
									<option>Thematic</option>
									<option>Shorts Funds & Geared Funds</option>
									<option>International Bonds</option>
									<option>International Equities</option>
									<option>Diversified</option>
									<option>International Equities - Emerging Markets</option>
									<option>International - Countries & Regions</option>
									<option>International Equities - Asia</option>
									<option>Gold & Commodities</option>
									<option>International Equities - US</option>
									<option>Currency</option>
									<option>Property & Infrastructure</option>
								</select>
								<div class='icon'>keyboard_arrow_down</div>
							</div> <!-- .selectContainer -->
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Investment suitability</div>
						<div class='fields'>
							<input type='text' placeholder='Enter keywords' name='investmentSuitability'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Management approach</div>
						<div class='fields'>
							<input type='text' placeholder='Enter keywords' name='managementApproach'>
						</div> <!-- .fields -->
					</div> <!-- .filter -->

					<div class='filter'>
						<div class='label'>Dividend frequency</div>
						<div class='fields'>
							<div class='selectContainer'>
								<select name='dividendFrequency'>
									<option value='' selected>All frequencies</option>
									<option value='annual'>Annual</option>
									<option value='quarterly'>Quarterly</option>
									<option value='monthly'>Monthly</option>
								</select>

								<div class='icon'>keyboard_arrow_down</div>
							</div> <!-- .selectContainer -->
						</div> <!-- .fields -->
					</div> <!-- .filter -->
				</form>

				<button class='clearFiltersButton'>
					<div class='text'>Clear all filters</div>
				</button>
			</div> <!-- .filters -->


			<!-- Results
			================================================== -->
			<div class='results hidden'>
				<!-- Results table
				========================= -->
				<table class='resultsTable hidden'>
					<thead>
						<tr>
							<th></th>
							<th data-sort='symbol'>
								<div class='headerContainer'>
									<div class='text'>Code</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th data-sort='display_name'>
								<div class='headerContainer'>
									<div class='text'>Fund name</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_l' data-sort='kind'>
								<div class='headerContainer'>
									<div class='text'>Type</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_l' data-sort='fund_size'>
								<div class='headerContainer'>
									<div class='text'>Fund size</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_s' data-sort='one_year_return'>
								<div class='headerContainer'>
									<div class='text'>1 year<span class='hide_m'> return</span></div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_s' data-sort='five_year_return'>
								<div class='headerContainer'>
									<div class='text'>5 year<span class='hide_m'> return</span></div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
							<th class='hide_s' data-sort='management_fee'>
								<div class='headerContainer'>
									<div class='text'>Cost p/a</div>
									<div class='icon'>keyboard_arrow_down</div>
								</div> <!-- .headerContainer -->
							</th>
						</tr>
					</thead>
					<tbody>
						<!-- This is populated dynamically with JS -->
					</tbody>
				</table> <!-- .resultsTable -->


				<!-- Skeleton loading
				========================= -->
				<table class='skeletonLoading hidden'>
					<thead>
						<tr>
							<th><div class='box'></div></th>
							<th><div class='box'></div></th>
							<th colspan='6'><div class='box'></div></td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><div class='box'></div></td>
							<td><div class='box'></div></td>
							<td colspan='6'><div class='box'></div></td>
						</tr>
						<tr>
							<td><div class='box'></div></td>
							<td><div class='box'></div></td>
							<td colspan='6'><div class='box'></div></td>
						</tr>
						<tr>
							<td><div class='box'></div></td>
							<td><div class='box'></div></td>
							<td colspan='6'><div class='box'></div></td>
						</tr>
					</tbody>
				</table> <!-- .skeletonLoading -->


				<!-- Pagination
				========================= -->
				<div class='pagination hidden'>
					<div class='buttons'>
						<button class='prev disabled'>
							<div class='icon'>keyboard_arrow_left</div>
						</button> <!-- .prev -->

						<div class='pages'>
							<button class='page selected'>
								<div class='text'>1</div>
							</button>
							<button class='page'>
								<div class='text'>2</div>
							</button>
							<button class='page'>
								<div class='text'>3</div>
							</button>
							<button class='page'>
								<div class='text'>4</div>
							</button>
							<button class='page'>
								<div class='text'>5</div>
							</button>
							<button class='page'>
								<div class='text'>6</div>
							</button>
							<button class='page'>
								<div class='text'>7</div>
							</button>
							<button class='page ellipsis'>
								<div class='text'>...</div>
							</button>
							<button class='page'>
								<div class='text'>10</div>
							</button>
						</div> <!-- .pages -->

						<button class='next'>
							<div class='icon'>keyboard_arrow_right</div>
						</button> <!-- .next -->
					</div> <!-- .buttons -->

					<div class='resultsText'>
						Showing results 1 - 10 of 100
					</div> <!-- .resultsText -->
				</div> <!-- .pagination -->


				<!-- No results
				========================= -->
				<div class='noResults hidden'>
					<div class='title'>Sorry, we could not find any results.</div>
					<div class='text'>Try searching for something else<span class='clearFilters hidden'>, <a href='javascript:;'>clear all filters</a></span> or <a href='https://www.betashares.com.au/fund/'>view all funds</a>.</div>
				</div> <!-- .noResults -->
			</div> <!-- .results -->


		</div> <!-- .search -->
	`}function ie(){let o,r;function B(){clearTimeout(r),o&&o.abort("aborted"),o=new AbortController}function R(e,t){typeof e=="object"&&(B(),r=setTimeout(()=>{fetch("https://search.betashares.services/search",{signal:o.signal,method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(s=>s.json()).then(s=>{typeof t=="function"&&t(s),typeof e.search_text<"u"&&e.search_text===""&&(E=s)}).catch(s=>{s!=="aborted"&&console.log("Error querying the search API",s)})},250))}function ae(){u?.addEventListener("blur",de),u?.addEventListener("focus",M),u?.addEventListener("click",M),u?.addEventListener("input",M),u?.addEventListener("keydown",oe),qe?.addEventListener("click",b)}function M(e){n("focus",L);let t=u?.value;t===""&&E?(B(),D(E)):R({search_text:t||"",size:8},s=>{D(s)})}function oe(e){e.key==="Escape"&&C(),e.key==="Enter"?b():e.key==="ArrowDown"?ve():e.key==="ArrowUp"&&fe()}function de(e){c("focus",L),window.requestAnimationFrame(()=>{document.activeElement.closest(".search .suggestions")||C()})}let E;function le(){R({search_text:"",size:8},e=>{E=e})}function D(e){let t="";typeof e=="object"&&typeof e.results=="object"&&e.results.length>0&&(e.results.forEach(a=>{typeof a.display_name=="string"&&(t+=`
						<button class='suggestion'>
							<div class='icon'>search</div>
							<div class='text'>${a.display_name}</div>
						</button> <!-- .suggestion -->
					`)}),l.innerHTML=t,(l?.querySelectorAll(".suggestion")).forEach(a=>{a.addEventListener("blur",re),a.addEventListener("click",ce),a.addEventListener("keydown",ue)})),t&&document.activeElement.closest(".search .field")?c("hidden",l):n("hidden",l)}function C(){n("hidden",l)}function re(e){window.requestAnimationFrame(()=>{!document.activeElement.closest(".search .suggestions")&&!document.activeElement.closest(".search .field")&&C()})}function ce(e){let t=e.target.closest(".search .suggestion")?.querySelector(".text");t&&(u.value=t?.innerText,b())}function ue(e){e.key==="Escape"&&C()}function ve(){l?.querySelectorAll(".suggestion").length&&c("hidden",l);let e=l?.querySelector(".suggestion.focused");if(e){let s=e.nextElementSibling;if(c("focused",e),s)n("focused",s);else{let a=l?.querySelectorAll(".suggestion");a.length&&n("focused",a[0])}}else{let s=l?.querySelectorAll(".suggestion");s.length&&n("focused",s[0])}let t=l?.querySelector(".suggestion.focused .text");t&&(u.value=t?.innerText,event.preventDefault(),event.stopPropagation())}function fe(){l?.querySelectorAll(".suggestion").length&&c("hidden",l);let e=l?.querySelector(".suggestion.focused");if(e){let s=e.previousElementSibling;if(c("focused",e),s)n("focused",s);else{let a=l?.querySelectorAll(".suggestion");a.length&&n("focused",a[a.length-1])}}else{let s=l?.querySelectorAll(".suggestion");s.length&&n("focused",s[s.length-1])}let t=l?.querySelector(".suggestion.focused .text");t&&(u.value=t?.innerText,event.preventDefault(),event.stopPropagation())}function pe(){k?.addEventListener("click",he),Ce?.addEventListener("click",me),we?.addEventListener("click",j),Y?.addEventListener("click",j),d.querySelectorAll("input, select").forEach(a=>{a.addEventListener("input",()=>{window.requestAnimationFrame(()=>{$(),b(!0)})})}),d.querySelectorAll("input[data-min]").forEach(a=>{a.addEventListener("input",S=>{let f=S.target,q=parseFloat(f.value),m=parseFloat(f.getAttribute("data-min"));q<m&&(f.value=m)})}),d.querySelectorAll("input[data-max]").forEach(a=>{a.addEventListener("input",S=>{let f=S.target,q=parseFloat(f.value),m=parseFloat(f.getAttribute("data-max"));q>m&&(f.value=m)})})}function $(){let e=0,t=k?.querySelector(".activeFilters");if(!t)return;d.querySelectorAll("input, select").forEach(a=>{a.value!==""&&e++}),e>0?(t.innerHTML=" ("+e+")",c("hidden",Y)):(t.innerHTML="",n("hidden",Y))}function he(e){h?.classList.toggle("hidden")}function me(e){n("hidden",h)}function j(e){d.reset(),n("hidden",h),$(),b(!0)}function _e(){(g?.querySelectorAll("thead th")).forEach(t=>{t.addEventListener("click",be)})}function ge(){let e=u?.value,t=d?.querySelector('input[name="fundSize_min"]').value,s=d?.querySelector('input[name="fundSize_max"]').value,a=d?.querySelector('input[name="managementFee_min"]').value,S=d?.querySelector('input[name="managementFee_max"]').value,f=d?.querySelector('input[name="oneYearReturn_min"]').value,q=d?.querySelector('input[name="oneYearReturn_max"]').value,m=d?.querySelector('input[name="fiveYearReturn_min"]').value,P=d?.querySelector('input[name="fiveYearReturn_max"]').value,O=d?.querySelector('select[name="fundCategory"]').value,U=d?.querySelector('input[name="investmentSuitability"]').value,J=d?.querySelector('input[name="managementApproach"]').value,N=d?.querySelector('select[name="dividendFrequency"]').value,G="";if(p&&x){let _=x;(p==="symbol"||p==="display_name"||p==="kind")&&(x==="desc"?_="asc":_="desc"),G=p+"."+_}R({order_by:G,search_text:e||"",fund_size:{min:t||null,max:s||null},management_fee:{min:a||null,max:S||null},one_year_return:{min:f||null,max:q||null},five_year_return:{min:m||null,max:P||null},categories:O?[O]:[],investment_suitability:U?[U]:[],management_approach:J?[J]:[],dividend_frequency:N?[N]:[]},_=>{if(typeof _!="object"||typeof _.results!="object"||_.results.length===0)n("hidden",z),n("hidden",v),n("hidden",I),c("hidden",A);else{let K="";_.results.forEach(i=>{let F=i.symbol?i.symbol.toUpperCase():"-",Fe=i.display_name?y(i.display_name):"-",T=i.kind?y(i.kind):"-";T==="Etf"&&(T="ETF");let Q=i.fund_size?parseInt(i.fund_size):"-",W=i.one_year_return?parseFloat(i.one_year_return).toFixed(2)+"%":"-",X=i.five_year_return?parseFloat(i.five_year_return).toFixed(2)+"%":"-",Z=i.management_fee?parseFloat(i.management_fee).toFixed(2)+"%":"-",Ee=i.flagship_description_short?"<div class='description'>"+y(i.flagship_description_short)+"</div>":"",Le=i.categories.length?i.categories.join(", "):"-",ke=i.investment_suitability?y(i.investment_suitability):"-",Ae=i.management_approach?y(i.management_approach):"-",Te=i.dividend_frequency?y(i.dividend_frequency):"-";K+=`
							<tr class='result'>
								<td>
									<button class='expandCollapseButton'>
										<div class='icon'>keyboard_arrow_down</div>
									</button> <!-- .expandCollapseButton -->
								</td>
								<td>
									<div class='fundCode'>
										<div class='text'>${F}</div>
									</div> <!-- .fundCode -->
								</td>
								<td>
									<div class='text fundName'>${Fe}</div>
								</td>
								<td class='hide_l'>
									<div class='text'>${T}</div>
								</td>
								<td class='hide_l'>
									<div class='text'>${Q}</div>
								</td>
								<td class='hide_s'>
									<div class='text'>${W}</div>
								</td>
								<td class='hide_s'>
									<div class='text'>${X}</div>
								</td>
								<td class='hide_s'>
									<div class='text'>${Z}</div>
								</td>
							</tr>

							<tr class='expandCollapseContent hidden'>
								<td colspan='8'>
									${Ee}

									<div class='infoContainer'>
										<div class='info hidden show_l'>
											<div class='title'>Type</div>
											<div class='text'>${T}</div>
										</div> <!-- .info -->

										<div class='info hidden show_l'>
											<div class='title'>Fund size</div>
											<div class='text'>${Q}</div>
										</div> <!-- .info -->

										<div class='info hidden show_s'>
											<div class='title'>1 year return</div>
											<div class='text'>${W}</div>
										</div> <!-- .info -->

										<div class='info hidden show_s'>
											<div class='title'>5 year return</div>
											<div class='text'>${X}</div>
										</div> <!-- .info -->

										<div class='info hidden show_s'>
											<div class='title'>Cost p/a</div>
											<div class='text'>${Z}</div>
										</div> <!-- .info -->

										<div class='info'>
											<div class='title'>Categories</div>
											<div class='text'>${Le}</div>
										</div> <!-- .info -->

										<div class='info'>
											<div class='title'>Investment suitability</div>
											<div class='text'>${ke}</div>
										</div> <!-- .info -->

										<div class='info'>
											<div class='title'>Management approach</div>
											<div class='text'>${Ae}</div>
										</div> <!-- .info -->

										<div class='info'>
											<div class='title'>Dividend frequency</div>
											<div class='text'>${Te}</div>
										</div> <!-- .info -->
									</div> <!-- .infoContainer -->

									<a href='https://www.betashares.com.au/direct/get/?symbol=${F}' class='investButton'>
										<div class='text'>Invest with us</div>
									</a>
								</td>
							</tr> <!-- .expandCollapseContent -->
						`});let V=v?.querySelector("tbody");V&&(V.innerHTML=K),n("hidden",z),n("hidden",A),c("hidden",v),c("hidden",I),(v?.querySelectorAll(".result")).forEach(i=>{i.addEventListener("click",xe);let F=i.querySelector(".expandCollapseButton");F&&F.addEventListener("click",Se)})}})}function b(e=!1){if(C(),u?.blur(),!u?.value){ye();return}c("hidden",k),e||(H(),d.reset(),$(),n("hidden",h)),n("hidden",v),n("hidden",I),n("hidden",A),c("hidden",z),c("hidden",g),ge()}function ye(){B(),n("hidden",g),n("hidden",k),n("hidden",h)}let p="",x="";function be(e){let t=e.target.closest("th");t&&(t.classList.contains("desc")?(t.classList.remove("desc"),t.classList.add("asc"),p=t.getAttribute("data-sort"),x="asc"):(H(),t.classList.add("sort"),t.classList.add("desc"),p=t.getAttribute("data-sort"),x="desc"),b(!0))}function H(){p="",x="",v?.querySelector(".sort")?.classList.remove("sort"),v?.querySelector(".asc")?.classList.remove("asc"),v?.querySelector(".desc")?.classList.remove("desc")}function xe(e){let t=e.target.closest(".result")?.querySelector(".fundCode .text")?.textContent;t&&(window.location.href="https://www.betashares.com.au/direct/get/?symbol="+t)}function Se(e){e.preventDefault(),e.stopPropagation();let t=e.target.closest(".result");if(t){t.classList.contains("expanded")?t.classList.remove("expanded"):(c("expanded",v.querySelector(".result.expanded")),t.classList.add("expanded"));let s=t.nextElementSibling;s&&(s.classList.contains("hidden")?(v.querySelector(".expandCollapseContent:not(.hidden)")?.classList.add("hidden"),s.classList.remove("hidden")):s.classList.add("hidden"))}}let w=document.querySelector(".search"),L=w?.querySelector(".field .searchField"),u=L?.querySelector("input"),qe=L?.querySelector(".searchButton"),l=w?.querySelector(".suggestions"),k=w?.querySelector(".filtersButton"),h=w?.querySelector(".filtersPopup"),Ce=h?.querySelector(".closeButton"),d=h?.querySelector("form"),we=h?.querySelector(".clearFiltersButton"),g=w?.querySelector(".results"),v=g?.querySelector(".resultsTable"),z=g?.querySelector(".skeletonLoading"),I=g?.querySelector(".pagination"),A=g?.querySelector(".noResults"),Y=A?.querySelector(".clearFilters");ae(),le(),pe(),_e()}var ne=ee(()=>{te()});var Re=Be(()=>{ne();document.addEventListener("DOMContentLoaded",()=>{let o=document.getElementById("component_search");o&&(o.innerHTML=se(),ie())})});Re();})();
